(this["webpackJsonpalkotest-frontend"]=this["webpackJsonpalkotest-frontend"]||[]).push([[0],{40:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),i=n(6),a=n.n(i),o=(n(40),n(5)),s=n.n(o),l=n(9),u=n(12),d=n.n(u);console.log("url=".concat("https://alko-react-app.herokuapp.com/api/"));var j="https://alko-react-app.herokuapp.com/api/",h=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(j+t+"/drinks");case 2:return n=e.sent,e.abrupt("return",n.data.drinks);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(j+t+"/nondrinks");case 2:return n=e.sent,e.abrupt("return",n.data.nondrinks);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(j+t+"/date");case 2:return n=e.sent,e.abrupt("return",n.data.date);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f={drinks:[],nondrinks:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"alko";return function(){var t=Object(l.a)(s.a.mark((function t(n){var r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:return r=t.sent,console.log("drinks: ".concat(r.length)),t.next=6,b(e);case 6:c=t.sent,console.log("non-drinks: ".concat(c.length)),n({type:"INIT_ITEMS",data:{drinks:r,nondrinks:c}});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_ITEMS":return t.data;default:return e}},v=[],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"alko";return function(){var t=Object(l.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:r=t.sent,console.log("last fetched: ".concat(JSON.stringify(r))),n({type:"INIT_DATE",data:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_DATE":return t.data;default:return e}},k=function(e){return{type:"SET_LIST_SIZE",data:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_SIZE":return t.data;default:return e}},w=n(8),I={method:"price",toggleAlcoholic:!0,toggleOrder:!0,searchFilter:""},S=function(e){return{type:"method",data:e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"method":return Object(w.a)(Object(w.a)({},e),{},{method:t.data.toLowerCase()});case"toggleAlcoholic":return Object(w.a)(Object(w.a)({},e),{},{toggleAlcoholic:!e.toggleAlcoholic});case"toggleOrder":return Object(w.a)(Object(w.a)({},e),{},{toggleOrder:!e.toggleOrder});case"filterSearch":return Object(w.a)(Object(w.a)({},e),{},{searchFilter:t.data});default:return e}},N=n(3),C=function(){var e=Object(N.b)();return Object(r.jsxs)("div",{style:{position:"fixed",top:"0",left:"0",margin:"30px",display:"flex",flexDirection:"column"},children:[Object(r.jsx)("button",{onClick:function(){return e(g("alko")),void e(O("alko"))},children:"Alko"}),Object(r.jsx)("button",{onClick:function(){return e(g("superalko")),void e(O("superalko"))},children:"SuperAlko"})]})},T=n(29),D=n(30),A=Object(D.a)([function(e){return e.sortOptions},function(e){return e.items.drinks},function(e){return e.listSize}],(function(e,t,n){switch(t=t.filter((function(t){return t.name.toLowerCase().includes(e.searchFilter.toLowerCase())})),e.toggleAlcoholic){case!0:t=t.filter((function(e){return 0!==e.alcohol}));break;case!1:t=t.filter((function(e){return 0===e.alcohol}))}switch(e.method){case"price":t=t.sort((function(e,t){return t.price-e.price}));break;case"alcohol":t=t.sort((function(e,t){return t.alcohol-e.alcohol}));break;case"name":t=t.sort((function(e,t){return e.name.localeCompare(t.name)})).reverse();break;case"pple":t=t.sort((function(e,t){return t.priceperethanolL-e.priceperethanolL}));break;case"ppl":t=t.sort((function(e,t){return t.priceperL-e.priceperL}));break;case"size":t=t.sort((function(e,t){return t.size-e.size}));break;case"id":t=t.sort((function(e,t){return t.id-e.id}))}return e.toggleOrder&&(t=t.reverse()),t=t.slice(0,n)})),z=(n(65),function(e){var t=e.drink;return Object(r.jsxs)("div",{className:"drinkContainer",children:[Object(r.jsx)("div",{className:"drinkChildDiv drinkImg",children:Object(r.jsx)("img",{src:t.imgUrl,alt:t.name,loading:"lazy",height:"192",width:"160"})}),Object(r.jsx)("div",{className:"drinkChildDiv drinkTable",children:Object(r.jsxs)("table",{children:[Object(r.jsxs)("colgroup",{children:[Object(r.jsx)("col",{style:{width:"50%"}}),Object(r.jsx)("col",{style:{width:"50%"}})]}),Object(r.jsx)("thead",{children:Object(r.jsx)("tr",{children:Object(r.jsx)("th",{colSpan:"2",children:t.name})})}),Object(r.jsxs)("tbody",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"price:"}),Object(r.jsxs)("td",{children:[t.price.toFixed(2),"\u20ac"]})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"alcohol:"}),Object(r.jsxs)("td",{children:[t.alcohol,"%"]})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"manufacturer:"}),Object(r.jsx)("td",{children:t.manufacturer})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"volume:"}),Object(r.jsxs)("td",{children:[t.size," L"]})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"price per L of ethanol:"}),Object(r.jsxs)("td",{children:[isNaN(t.priceperethanolL)?t.priceperethanolL:t.priceperethanolL.toFixed(2),isNaN(t.priceperethanolL)?"":"\u20ac"]})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"type:"}),Object(r.jsx)("td",{children:t.type})]})]})]})}),Object(r.jsx)("div",{className:"drinkChildDiv drinkDescription",children:t.description})]})}),E=function(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.listSize})),n=Object(N.c)(A);return Object(r.jsx)("div",{id:"drinkList",children:Object(r.jsx)(T.a,{dataLength:n.length,next:function(){e(k(t+20))},hasMore:!0,endMessage:Object(r.jsx)("h1",{children:"this is the end"}),children:n.map((function(e){return Object(r.jsx)(z,{drink:e},e.id)}))})})},_=n(34),F=(n(66),function(){var e=Object(N.b)();return Object(r.jsx)("div",{id:"orderDrinksBy",className:"menuItem",children:Object(r.jsx)(_.a,{placeholder:"sort drinks by",options:[{value:"name",label:"name"},{value:"price",label:"price"},{value:"alcohol",label:"alcohol content"},{value:"pple",label:"price per litre of pure ethanol"},{value:"ppl",label:"price per litre"},{value:"size",label:"size"},{value:"id",label:"id"}],onChange:function(t){return function(t){e(S(t.value)),e(k(20))}(t)},isSearchable:!1})})}),M=function(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.sortOptions.toggleAlcoholic}));return Object(r.jsx)("div",{id:"alcoholToggle",className:"menuItem",children:Object(r.jsxs)("button",{onClick:function(){return e({type:"toggleAlcoholic"}),void e(k(20))},children:["showing ",t?"alcoholic":"non-alcoholic"]})})},J=function(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.sortOptions.toggleOrder}));return Object(r.jsx)("div",{id:"orderToggle",className:"menuItem",children:Object(r.jsxs)("button",{onClick:function(){return e({type:"toggleOrder"}),void e(k(20))},children:["order: ",t?"ascending":"descending"]})})},B=function(){var e=Object(N.b)();return Object(r.jsx)("input",{id:"searchInput",className:"menuItem",type:"text",onChange:function(t){return(n=t).preventDefault(),void e({type:"filterSearch",data:n.target.value});var n},placeholder:"search"})},U=function(){var e=Object(N.c)((function(e){return e.date})),t=new Date(e);return Object(r.jsxs)("div",{id:"lastFetched",className:"menuItem",children:[Object(r.jsx)("div",{children:"Information last fetched:"}),Object(r.jsx)("div",{children:t.toLocaleString()})]})},Z=function(){return Object(r.jsxs)("div",{id:"menuContainer",children:[Object(r.jsx)(B,{}),Object(r.jsx)(F,{}),Object(r.jsx)(J,{}),Object(r.jsx)(M,{}),Object(r.jsx)(U,{})]})},H=n(31),R=n.n(H),W=function(){var e=Object(N.b)();return Object(r.jsx)(R.a,{showUnder:2500,style:{position:"fixed",bottom:0,right:0,left:0,height:"40px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#386292",transitionDuration:"0.2s"},onHide:function(){return e(k(20))},duration:400,children:Object(r.jsx)("span",{style:{color:"white"},children:"back to top"})})},q=function(){var e=Object(N.b)();return Object(c.useEffect)((function(){e(O()),e(g()),e(k(20)),e(S("pple"))}),[e]),Object(r.jsxs)("div",{children:[Object(r.jsx)(Z,{}),Object(r.jsx)(C,{}),Object(r.jsx)(E,{}),Object(r.jsx)(W,{})]})},G=n(10),K=n(32),P=n(33),Q=Object(G.combineReducers)({listSize:y,items:x,sortOptions:L,date:m}),V=Object(G.createStore)(Q,Object(P.composeWithDevTools)(Object(G.applyMiddleware)(K.a)));a.a.render(Object(r.jsx)(N.a,{store:V,children:Object(r.jsx)(q,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.1bb20e41.chunk.js.map